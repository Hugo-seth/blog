webpackJsonp([3,1],{0:function(t,e,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}var s=a(23),n=r(s),i=a(103),u=r(i),o=a(95),l=r(o),c=a(96),f=r(c);n.default.use(u.default);var d=[{path:"/articles",component:f.default},{path:"/articles/:number",component:function(t){a.e(0,function(e){var a=[e(97)];t.apply(null,a)}.bind(this))}},{path:"",redirect:"/articles"},{path:"*",redirect:"/articles"}],p=new u.default({routes:d});new n.default({router:p,render:function(t){return t(l.default)}}).$mount("#app")},16:function(t,e,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=a(23),n=r(s);n.default.filter("formatDate",function(t){return new Date(t).toLocaleString()});var i=n.default.filter("formatDate");e.default=i},17:function(t,e,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function s(t){return new f.default(function(e,a){var r=(0,_.default)("articles");if(r){var s=r.slice((t.page-1)*t.per_page,t.page*t.per_page);e(s)}else(0,p.default)("get",h,t).then(function(t){var a=u(t);e(a)}).catch(function(t){a(t)})})}function n(t){var e=h+"/"+t;return new f.default(function(a,r){var s=(0,_.default)("articles");if(s){var n=s.filter(function(e){return e.number===t})[0];a(n)}else(0,p.default)("get",e).then(function(t){var e=u([t])[0];a(e)}).catch(function(t){r(t)}),setTimeout(i,500)})}function i(){return new f.default(function(t,e){var a=(0,_.default)("articles");a?t(a):(0,p.default)("get",h).then(function(e){t(e);var a=u(e);(0,_.default)("articles",a)}).catch(function(t){e(t)})})}function u(t){var e=t.map(function(t){return{id:t.id,number:t.number,created_at:t.created_at,title:t.title,markdown:t.body,html:(0,l.default)(t.body),html_url:t.html_url,comments_url:t.html_url+"#partial-timeline-marker"}}),a=/<p>.+<\/p>/;return e.forEach(function(t){var e=a.exec(t.html);t.summary=e?e[0]:null}),e}Object.defineProperty(e,"__esModule",{value:!0}),e.getAllIssues=e.getSingleIssue=e.getIssuesPage=void 0;var o=a(86),l=r(o),c=a(22),f=r(c),d=a(49),p=r(d),v=a(48),_=r(v),h="/issues";e.getIssuesPage=s,e.getSingleIssue=n,e.getAllIssues=i},43:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),a(87),e.default={name:"app",created:function(){document.documentElement.clientWidth>1e3&&window.particlesJS.load("particles-js","static/particles.json",function(){console.log("callback - particles.js config loaded")})}}},44:function(t,e,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=a(98),n=r(s),i=a(17),u=a(16);r(u);e.default={name:"home-page",components:{Pagination:n.default},data:function(){return{articles:[],totalArticles:"",net_error:!1,params:{per_page:3,page:1}}},created:function(){this.getIssues()},watch:{$route:"getIssues"},methods:{getIssues:function(){var t=this;window.scrollTo(0,0),this.$route.query.page?this.params.page=parseInt(this.$route.query.page,10):this.params.page=1,(0,i.getIssuesPage)(this.params).then(function(e){t.articles=e}).catch(function(){return t.net_error=!0}),(0,i.getAllIssues)().then(function(e){return t.totalArticles=e.length})}}}},46:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"pagination",props:{total:Number,params:Object},data:function(){return{pages:1}},created:function(){this.pages=Math.ceil(this.total/this.params.per_page)},methods:{goPrevious:function(){this.$router.push({path:"articles",query:{page:this.params.page-1}})},goNext:function(){this.$router.push({path:"articles",query:{page:this.params.page+1}})}}}},47:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a="27bf34f0055c3001573745",r="5d7c963fd5c0ac4eab";e.default={api:"https://api.github.com/repos/Hugo-seth/blog",token:a+r}},48:function(t,e,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=a(50),n=r(s);e.default=function(t,e){return t?e?void sessionStorage.setItem(t,(0,n.default)(e)):JSON.parse(sessionStorage.getItem(t)):void console.log("setItem failed, must have one param or more")}},49:function(t,e,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=a(51),n=r(s);e.default=function(t,e,a,r){var s={method:t,url:f.default.api+e,params:(0,n.default)({},a,{access_token:f.default.token}),data:r};return new u.default(function(t,e){(0,l.default)(s).then(function(a){200===a.status?t(a.data):e(a.statusText.toString())}).catch(function(t){t.response?(console.log(t.response.status),e(t.response.status.toString())):(console.log("Error",t.message),e(t.message.toString()))})})};var i=a(22),u=r(i),o=a(25),l=r(o),c=a(47),f=r(c)},82:function(t,e){},83:function(t,e){},84:function(t,e){},95:function(t,e,a){a(82);var r=a(3)(a(43),a(99),null,null);t.exports=r.exports},96:function(t,e,a){a(83);var r=a(3)(a(44),a(100),"data-v-61461126",null);t.exports=r.exports},98:function(t,e,a){a(84);var r=a(3)(a(46),a(101),"data-v-942b9adc",null);t.exports=r.exports},99:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("div",{staticClass:"app"},[t._m(0),t._v(" "),a("div",{staticClass:"content"},[a("router-view")],1),t._v(" "),t._m(1)]),t._v(" "),a("div",{attrs:{id:"particles-js"}})])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"header"},[a("a",{attrs:{href:""}},[a("h1",[t._v("Hugo's blog")])]),t._v(" "),a("ul",{staticClass:"nav"},[a("li",[a("a",{attrs:{href:"//github.com/Hugo-seth",target:"_blank"}},[a("i",{staticClass:"fa fa-github",attrs:{"aria-hidden":"true"}})])]),t._v(" "),a("li",[a("a",{attrs:{href:"//www.zhihu.com/people/shenqihui1992/",target:"_blank"}},[a("span",{staticClass:"zhihu",attrs:{"aria-hidden":"true"}})])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"footer"},[a("p",[t._v("Copyright © Hugo's Blog 2017")])])}]}},100:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home-page"},[a("div",{directives:[{name:"show",rawName:"v-show",value:0===t.articles.length&&!t.net_error,expression:"articles.length === 0 && !net_error"}],staticClass:"spinner"}),t._v(" "),a("ul",{staticClass:"article-list"},t._l(t.articles,function(e){return a("li",[a("router-link",{attrs:{to:"articles/"+e.number.toString()}},[a("h2",[t._v(t._s(e.title))]),t._v(" "),a("div",{staticClass:"article-summary",domProps:{innerHTML:t._s(e.summary)}}),t._v(" "),a("p",{staticClass:"clearfix"},[t._v("阅读全文 "),a("span",{staticClass:"time"},[t._v("Posted at "+t._s(t._f("formatDate")(e.created_at)))])])])],1)})),t._v(" "),t.net_error?a("div",{staticClass:"error-tip"},[t._v("暂时无法连接服务器，请稍后再来^_^")]):t._e(),t._v(" "),t.totalArticles?a("div",[a("pagination",{attrs:{total:t.totalArticles,params:t.params}})],1):t._e()])},staticRenderFns:[]}},101:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"pagination"},[a("li",{directives:[{name:"show",rawName:"v-show",value:1!==t.params.page,expression:"params.page !== 1"}]},[a("a",{attrs:{href:"#"},domProps:{textContent:t._s("<")},on:{click:function(e){e.preventDefault(),t.goPrevious()}}})]),t._v(" "),t._l(t.pages,function(e){return a("li",{class:{current:t.params.page===e}},[a("router-link",{attrs:{to:{path:"articles",query:{page:e}}}},[t._v("\n      "+t._s(e)+"\n    ")])],1)}),t._v(" "),a("li",{directives:[{name:"show",rawName:"v-show",value:t.params.page!==t.pages,expression:"params.page !== pages"}]},[a("a",{attrs:{href:"#"},domProps:{textContent:t._s(">")},on:{click:function(e){e.preventDefault(),t.goNext()}}})])],2)},staticRenderFns:[]}}});
//# sourceMappingURL=app.d6449c9.js.map